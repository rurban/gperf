variables:
  GIT_DEPTH: "1"

before_script:
  - apt-get update -qq
  - DEBIAN_FRONTEND=noninteractive apt-get install -y texinfo texlive

gcc:
  script:
    - sh autogen.sh
    - CXXFLAGS="-g -O2 -Wall -Wextra -Werror -fno-strict-aliasing"
    - ./configure
    - make -j4
    - make -j4 check
asan:
  script:
    - sh autogen.sh
    - CXXFLAGS="-g -O2 -fsanitize=address,undefined -fno-omit-frame-pointer -Wall -Wextra"
      ./configure 
    - make -j4
    - make -j4 check
    - make -j4 -C tests check extracheck
